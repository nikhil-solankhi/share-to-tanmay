create table empdata(
userid int,
constraint userid_fk foreign key(userid) references auth(userid),
name varchar(25),
tel varchar(10),
gender varchar(1),
designation varchar(25),
mgrid int);

create table applog(
userid int,
constraint id_fk foreign key(userid) references auth(userid),
description varchar(500),
status int,
constraint status_fk foreign key(status) references statab(statno)
);

create table statab(
statno int primary key,
statusdesc varchar(20));

insert into auth values(101,"nikhil@123");
insert into auth values(102,"deeksha@123");
insert into auth values(103,"sandhya@123");
insert into auth values(104,"rutvik@123");
insert into auth values(105,"komal@123");

insert into empdata(userid,name,tel,gender,designation) values(101,"nikhil","8947959408","m","director");
insert into empdata values(102,"deeksha","1234567890","f","manager",101);
insert into empdata values(103,"sandhya","7894561230","f","developer",102);
insert into empdata values(104,"rutvik","4561237890","m","executive",102);
insert into empdata values(105,"komal","1245783265","f","sme",101);

insert into statab values(0,"pending");
insert into statab values(1,"approved");
insert into statab values(2,"rejected");

insert into applog values(102,"md award receipient",0,default);
insert into applog values(103,"skill upgrade java",1,default);
insert into applog values(104,"skill upgrade python",0,default);
insert into applog values(105,"skill upgrade mysql",2,default);


update applog set description = 'dfsdfsd' where userid = 103;

 select e.name,e.designation,e.gender,e.tel,l.description,s.statusdesc
 from empdata e inner join applog l on e.userid=l.userid inner join statab s on s.statno=l.status
where e.mgrid=102;

update auth set email = 'deeksha@gmail.com' where userid = 102;
update auth set email = 'sandhya@gmail.com' where userid = 103;
update auth set email = 'rutvik@gmail.com' where userid = 104;
update auth set email = 'komal@gmail.com' where userid = 105;

ALTER TABLE applog ADD certification varchar(25);

update applog set certification = 'microsoft certified' where userid = 102;

create table award(
award_id int primary key,
award_name varchar(25));

insert into award values(0,"MD Award");
insert into award values(1,"Cultural Award");
insert into award values(2,"Athletics Award");

create table awardlog(
userid int,
constraint awarduser_fk foreign key(userid) references auth(userid),
award_earned int,
constraint award_fk foreign key(award_earned) references award(award_id));

insert into awardlog values(102,0);
insert into awardlog values(102,1);
insert into awardlog values(102,2);
insert into awardlog values(103,2);
insert into awardlog values(104,1);
insert into awardlog values(105,2);
insert into awardlog values(104,2);


select u.userid,a.award_name
from awardlog u, award a
where u.award_earned=a.award_id and userid=102;

select e.name,e.designation,e.gender,e.tel,l.description,s.statusdesc,aw.award_name
 from empdata e inner join applog l on e.userid=l.userid inner join statab s on s.statno=l.status innerjoin 
where e.mgrid=102; 